<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Custom Elements : Slider</title>
    <link rel="stylesheet" href="./styles/global.css">
    <style>
        *{
            box-sizing: border-box;
        }
        :root{
            --sly-item-background: hsl(0, 0%, 7%);
            --sly-border: 1px solid green;
            --sly-item-width: 189px;
            --sly-container-height: auto;
            --sly-container-item-gap: 20px;
            --sly-container-border: none;
            --button-width: 50px;
            --button-arrow-color: gray;
            --button-arrow-thickness: 1px;
        }
        .page-wrapper {
            /* margin: 10px; */
            /* min-width: 500px; */
            min-width: calc(var(--sly-item-width) * 1.5);
            width: 80vw;
            max-width: 1100px;
            margin: auto;
            /* border: 1px solid gray; */
        }
        h2 {
            font-size: 20px;
        }
       
    </style>
</head>
<body>
    <main class="page-wrapper">
        <h1>Go Primitive</h1>
        <sly-slyder show-arrows="true">
            <slyder-item 
                imgSrc="https://picsum.photos/189/336" 
                videoUrl="Y_xlWdgi1ew">
                <!-- <image-with-play-button src="https://picsum.photos/300"></image-with-play-button> -->
                <h2>Roboto <br>Condensed 24</h2>
            </slyder-item>
            <slyder-item 
                imgSrc="https://picsum.photos/189/336"
                videoUrl="x_9pslQU9Bk" >
                <h2>item 2</h2>
            </slyder-item>
            <slyder-item 
                imgSrc="https://picsum.photos/189/336"
                videoUrl="x_9pslQU9Bk" >
                <h2>item 3</h2>
            </slyder-item>
            <slyder-item 
                imgSrc="https://picsum.photos/189/336"
                videoUrl="x_9pslQU9Bk" >
                <h2>item 4</h2>
            </slyder-item>
            <slyder-item 
                imgSrc="https://picsum.photos/189/336"
                videoUrl="x_9pslQU9Bk" >
                <h2>item 5</h2>
            </slyder-item>
            <slyder-item 
                imgSrc="https://picsum.photos/189/336"
                videoUrl="x_9pslQU9Bk" >
                <h2>item 6</h2>
            </slyder-item>
            <slyder-item 
                imgSrc="https://picsum.photos/189/336"
                videoUrl="x_9pslQU9Bk" >
                <h2>item 7</h2>
            </slyder-item>
        </sly-slyder>
        <s-modal showModal="false" onclick="this.setAttribute('showModal', false)">
            <video-component video-id=""></video-component>
        </s-modal>
    </main>
      

    <script type="module" src="./index.js"></script>
    <script>

        //todo: set up attr and prop reflection.
        //consider whether it is possible to refactor this into the other component.
        // implement buttons
        function showModal(e) {
            const modal = document.querySelector('s-modal')
            const videoId = document.querySelector('video-component')
            
            videoId.setAttribute('video-id', e.detail)
            modal.setAttribute('showModal', true)
        }

        let slyderItems = document.querySelectorAll('slyder-item')
        // Dispatch the event
        for (let i = 0; i < slyderItems.length; i++) {
            slyderItems[i].addEventListener('card-click', e => showModal(e))
        }
    
      
    </script>
</body>
</html>